@tailwind base;
@tailwind components;
@tailwind utilities;

/* 上品で温かみのあるブラウン系カラーパレット */
:root {
  --color-primary: #6b4c3b;
  --color-accent: #a68f79;
  --color-highlight: #dcd2c1;
  --color-warm-accent: #b8936f;
  --color-bg: #f7f3ed;
  --color-card: #ffffff;
  --color-text-primary: #2f1f16;
  --color-text-secondary: #9c8e81;
}

/* ダークモード用軽やかで優雅なカラーパレット */
.dark {
  --color-primary: #b8936f;
  --color-accent: #d4a574;
  --color-highlight: #6b4c3b;
  --color-warm-accent: #c4b5a7;
  --color-bg: #2a2320;
  --color-card: #3d352f;
  --color-text-primary: #f0e8df;
  --color-text-secondary: #c4b5a7;
}

/* HTMLとbodyの背景色を統一してスクロール時の白い部分を防ぐ */
html {
  background-color: var(--color-bg);
  transition: background-color 0.3s ease;
  /* オーバースクロール時の動作を制御 */
  overscroll-behavior: none;
  /* Safariでのバウンス効果を無効にする */
  -webkit-overflow-scrolling: touch;
}

body {
  background-color: var(--color-bg);
  transition: background-color 0.3s ease;
  min-height: 100vh;
  /* オーバースクロール時の動作を制御 */
  overscroll-behavior: none;
  /* 余白を完全に削除 */
  margin: 0;
  padding: 0;
}

/* ビューポート全体を背景色で覆う */
#__next {
  background-color: var(--color-bg);
  transition: background-color 0.3s ease;
  min-height: 100vh;
}

/* カードの背景色を統一 */
.bg-white {
  background-color: var(--color-card);
  transition: background-color 0.3s ease;
}

/* ボタンやアクセントカラーの統一 */
.bg-blue-500 {
  background-color: var(--color-primary);
}

.bg-blue-600 {
  background-color: var(--color-accent);
}

.hover\:bg-blue-600:hover {
  background-color: var(--color-accent);
}

.hover\:bg-blue-700:hover {
  background-color: var(--color-accent);
}

.text-blue-600 {
  color: var(--color-primary);
}

.hover\:text-blue-800:hover {
  color: var(--color-accent);
}

/* シャドウの色を調整（軽やかに） */
.shadow-lg {
  box-shadow: 0 10px 15px -3px rgba(107, 76, 59, 0.08), 0 4px 6px -2px rgba(107, 76, 59, 0.04);
}

.dark .shadow-lg {
  box-shadow: 0 10px 15px -3px rgba(184, 147, 111, 0.15), 0 4px 6px -2px rgba(184, 147, 111, 0.08);
}

.shadow-xl {
  box-shadow: 0 20px 25px -5px rgba(107, 76, 59, 0.08), 0 10px 10px -5px rgba(107, 76, 59, 0.03);
}

.dark .shadow-xl {
  box-shadow: 0 20px 25px -5px rgba(184, 147, 111, 0.15), 0 10px 10px -5px rgba(184, 147, 111, 0.08);
}

.shadow-md {
  box-shadow: 0 4px 6px -1px rgba(107, 76, 59, 0.08), 0 2px 4px -1px rgba(107, 76, 59, 0.04);
}

.dark .shadow-md {
  box-shadow: 0 4px 6px -1px rgba(184, 147, 111, 0.15), 0 2px 4px -1px rgba(184, 147, 111, 0.08);
}

/* テキストカラーの調整 */
.text-gray-900 {
  color: var(--color-text-primary);
  transition: color 0.3s ease;
}

.text-gray-600 {
  color: var(--color-text-secondary);
  transition: color 0.3s ease;
}

/* ダークモード用の追加スタイル */
.dark .bg-gray-100 {
  background-color: var(--color-bg);
}

.dark .text-gray-100 {
  color: var(--color-text-primary);
}

.dark .text-gray-300 {
  color: var(--color-text-secondary);
}

.dark .hover\:text-white:hover {
  color: var(--color-accent);
}

.dark .border-gray-100 {
  border-color: rgba(196, 181, 167, 0.3);
}

.dark .border-gray-200 {
  border-color: rgba(196, 181, 167, 0.4);
}

/* 背景色の完全対応 */
.dark .bg-gray-50 {
  background-color: var(--color-card);
}

.dark .bg-green-50 {
  background-color: rgba(34, 197, 94, 0.1);
}

.dark .bg-green-900\/20 {
  background-color: rgba(21, 128, 61, 0.2);
}

/* スムーズなトランジション */
* {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

/* ダークモード時のスクロールバー */
.dark ::-webkit-scrollbar {
  width: 8px;
}

.dark ::-webkit-scrollbar-track {
  background: var(--color-card);
}

.dark ::-webkit-scrollbar-thumb {
  background: var(--color-text-secondary);
  border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: var(--color-text-primary);
}

/* オーバースクロール時の白い部分を防ぐための追加設定 */
html,
body,
#__next,
.main-container {
  background-color: var(--color-bg) !important;
}

/* 記事本文のダークモード視認性改善 */
.dark .prose {
  color: #f0e8df; /* elegant-darkText相当の明るい色 */
}

.dark .prose p {
  color: #f0e8df; /* 段落テキストを明るく */
}

.dark .prose h1,
.dark .prose h2,
.dark .prose h3,
.dark .prose h4,
.dark .prose h5,
.dark .prose h6 {
  color: #f0e8df; /* 見出しテキストを明るく */
}

.dark .prose strong {
  color: #f0e8df; /* 太字テキストを明るく */
}

.dark .prose em {
  color: #e6ddd4; /* 斜体テキストを少し柔らかく */
}

.dark .prose blockquote {
  color: #c4b5a7; /* 引用テキストを少し暗めに */
  border-left-color: #d4a574; /* 引用ボーダーをアクセント色に */
}

.dark .prose code {
  color: #f0e8df; /* インラインコードを明るく */
  background-color: rgba(212, 165, 116, 0.2); /* アクセント色の背景 */
}

.dark .prose pre {
  background-color: rgba(61, 53, 47, 0.8); /* コードブロック背景 */
}

.dark .prose pre code {
  color: #f0e8df; /* コードブロック内のテキスト */
}

.dark .prose a {
  color: #d4a574; /* リンクをアクセント色に */
}

.dark .prose a:hover {
  color: #b8936f; /* ホバー時のリンク色 */
}

.dark .prose ul li::marker,
.dark .prose ol li::marker {
  color: #c4b5a7; /* リストマーカーを見やすく */
}

/* iOS Safari用の追加設定 */
@supports (-webkit-touch-callout: none) {
  html {
    /* iOS Safariでのオーバースクロール時の白い部分を防ぐ */
    background-attachment: fixed;
  }
  
  body {
    /* iOS Safariでのバウンス効果を無効にする */
    position: fixed;
    overflow-x: hidden;
    width: 100%;
    height: 100%;
  }
  
  body.no-scroll {
    overflow: hidden;
  }
}

