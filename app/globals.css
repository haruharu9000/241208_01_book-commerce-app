@tailwind base;
@tailwind components;
@tailwind utilities;

/* シックで上品、優雅なカラーパレット */
:root {
  --color-primary: #2c2c2e;
  --color-accent: #2c5530;
  --color-highlight: #f8f8f9;
  --color-warm-accent: #6b7c87;
  --color-red-accent: #8b3538;
  --color-bg: #fafafa;
  --color-card: #ffffff;
  --color-text-primary: #1a1a1c;
  --color-text-secondary: #6d6d70;
}

/* ダークモード用洗練されたカラーパレット */
.dark {
  --color-primary: #6b7c87;
  --color-accent: #5fb3a3;
  --color-highlight: #2c2c2e;
  --color-warm-accent: #aeaeb2;
  --color-red-accent: #ff6b73;
  --color-bg: #1c1c1e;
  --color-card: #2c2c2e;
  --color-text-primary: #f2f2f7;
  --color-text-secondary: #aeaeb2;
}

/* HTMLとbodyの背景色を統一してスクロール時の白い部分を防ぐ */
html {
  background-color: var(--color-bg);
  transition: background-color 0.3s ease;
  /* オーバースクロール時の動作を制御 */
  overscroll-behavior: none;
  /* Safariでのバウンス効果を無効にする */
  -webkit-overflow-scrolling: touch;
}

body {
  background-color: var(--color-bg);
  transition: background-color 0.3s ease;
  min-height: 100vh;
  /* オーバースクロール時の動作を制御 */
  overscroll-behavior: none;
  /* 余白を完全に削除 */
  margin: 0;
  padding: 0;
}

/* ビューポート全体を背景色で覆う */
#__next {
  background-color: var(--color-bg);
  transition: background-color 0.3s ease;
  min-height: 100vh;
}

/* カードの背景色を統一 */
.bg-white {
  background-color: var(--color-card);
  transition: background-color 0.3s ease;
}

/* ボタンやアクセントカラーの統一 */
.bg-blue-500 {
  background-color: var(--color-primary);
}

.bg-blue-600 {
  background-color: var(--color-accent);
}

.hover\:bg-blue-600:hover {
  background-color: var(--color-accent);
}

.hover\:bg-blue-700:hover {
  background-color: var(--color-accent);
}

.text-blue-600 {
  color: var(--color-primary);
}

.hover\:text-blue-800:hover {
  color: var(--color-accent);
}

/* シャドウの色を調整（洗練されたグレー系） */
.shadow-lg {
  box-shadow: 0 10px 15px -3px rgba(44, 44, 46, 0.1), 0 4px 6px -2px rgba(44, 44, 46, 0.05);
}

.dark .shadow-lg {
  box-shadow: 0 10px 15px -3px rgba(107, 124, 135, 0.2), 0 4px 6px -2px rgba(107, 124, 135, 0.1);
}

.shadow-xl {
  box-shadow: 0 20px 25px -5px rgba(44, 44, 46, 0.1), 0 10px 10px -5px rgba(44, 44, 46, 0.04);
}

.dark .shadow-xl {
  box-shadow: 0 20px 25px -5px rgba(107, 124, 135, 0.2), 0 10px 10px -5px rgba(107, 124, 135, 0.1);
}

.shadow-md {
  box-shadow: 0 4px 6px -1px rgba(44, 44, 46, 0.1), 0 2px 4px -1px rgba(44, 44, 46, 0.05);
}

.dark .shadow-md {
  box-shadow: 0 4px 6px -1px rgba(107, 124, 135, 0.2), 0 2px 4px -1px rgba(107, 124, 135, 0.1);
}

/* テキストカラーの調整 */
.text-gray-900 {
  color: var(--color-text-primary);
  transition: color 0.3s ease;
}

.text-gray-600 {
  color: var(--color-text-secondary);
  transition: color 0.3s ease;
}

/* ダークモード用の追加スタイル */
.dark .bg-gray-100 {
  background-color: var(--color-bg);
}

.dark .text-gray-100 {
  color: var(--color-text-primary);
}

.dark .text-gray-300 {
  color: var(--color-text-secondary);
}

.dark .hover\:text-white:hover {
  color: var(--color-accent);
}

.dark .border-gray-100 {
  border-color: rgba(174, 174, 178, 0.3);
}

.dark .border-gray-200 {
  border-color: rgba(174, 174, 178, 0.4);
}

/* 背景色の完全対応 */
.dark .bg-gray-50 {
  background-color: var(--color-card);
}

.dark .bg-green-50 {
  background-color: rgba(34, 197, 94, 0.1);
}

.dark .bg-green-900\/20 {
  background-color: rgba(21, 128, 61, 0.2);
}

/* スムーズなトランジション */
* {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

/* ダークモード時のスクロールバー */
.dark ::-webkit-scrollbar {
  width: 8px;
}

.dark ::-webkit-scrollbar-track {
  background: var(--color-card);
}

.dark ::-webkit-scrollbar-thumb {
  background: var(--color-text-secondary);
  border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: var(--color-text-primary);
}

/* オーバースクロール時の白い部分を防ぐための追加設定 */
html,
body,
#__next,
.main-container {
  background-color: var(--color-bg) !important;
}

/* 記事本文のダークモード視認性改善 */
.dark .prose {
  color: #f2f2f7; /* elegant-darkText相当の明るい色 */
}

.dark .prose p {
  color: #f2f2f7; /* 段落テキストを明るく */
}

.dark .prose h1,
.dark .prose h2,
.dark .prose h3,
.dark .prose h4,
.dark .prose h5,
.dark .prose h6 {
  color: #f2f2f7; /* 見出しテキストを明るく */
}

.dark .prose strong {
  color: #f2f2f7; /* 太字テキストを明るく */
}

.dark .prose em {
  color: #e5e5ea; /* 斜体テキストを少し柔らかく */
}

.dark .prose blockquote {
  color: #aeaeb2; /* 引用テキストを少し暗めに */
  border-left-color: #5fb3a3; /* 引用ボーダーをティールアクセント色に */
}

.dark .prose code {
  color: #f2f2f7; /* インラインコードを明るく */
  background-color: rgba(95, 179, 163, 0.15); /* ティールアクセント色の背景 */
}

.dark .prose pre {
  background-color: rgba(44, 44, 46, 0.8); /* コードブロック背景 */
}

.dark .prose pre code {
  color: #f2f2f7; /* コードブロック内のテキスト */
}

.dark .prose a {
  color: #5fb3a3; /* リンクをティールアクセント色に */
}

.dark .prose a:hover {
  color: #6b7c87; /* ホバー時のリンク色 */
}

.dark .prose ul li::marker,
.dark .prose ol li::marker {
  color: #aeaeb2; /* リストマーカーを見やすく */
}

/* iOS Safari用の追加設定 */
@supports (-webkit-touch-callout: none) {
  html {
    /* iOS Safariでのオーバースクロール時の白い部分を防ぐ */
    background-attachment: fixed;
  }
  
  body {
    /* iOS Safariでのバウンス効果を無効にする */
    position: fixed;
    overflow-x: hidden;
    width: 100%;
    height: 100%;
  }
  
  body.no-scroll {
    overflow: hidden;
  }
}

